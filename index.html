<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Game</title>
</head>
<body>
    <div class="container">
        <div class="header">
        </div>
        <div class="main">
            <div class="text-area" style="color: wheat;">
                <p id="playerhp"></p>
                <p id="magazine"></p>
                <p id="message"></p>
                <p id="msglevel"></p>
                <p id="msgtargetkills"></p>
            </div>
                <div class="startpage">
                    <h1 style="color: white; " align="center">UN COLONIZED</h1>
                    <div class="selectlevel">
                        <p>Money : <span id="moneyspanhome">999</span></p>
                        <label for="level">Select Level</label>
                        <select name="level" id="levelselector">

                        </select>
                    </div>
                    <button id="" onclick="startingGame()">START</button>
                    <div style="display: flex; width: 50%; margin: 0 auto ; align-items: center;">
                        <a href="shop.html" >
                            <button onclick="RefreshAllBtnShop(ShopBtn)" style="width: 100%;">SHOP</button>
                        </a>
                        <a href="credits.html" >
                            <button style="width: 100%;">Credit</button>
                        </a>
                        <a href="howtoplay.html" >
                            <button style="width: 100%;">How To Play</button>
                        </a>
                    </div>
                </div>
            <div class="input-area">
            </div>
        </div>

        </div>
    </div> 
    <div class="blocker">
        <h6>Mohon Maaf game ini hanya bisa <p></p>di mainkan di pc / laptop saja</h6>
    </div>
    <script>
        // List of resource URLs
        const resources = [
            { type: 'img', url: 'bgmenu.png' },
            { type: 'img', url: 'bg1.png' },
            { type: 'img', url: 'bg2.png' },
            { type: 'img', url: 'bg3.png' },
            { type: 'img', url: 'bg4.png' },
            { type: 'img', url: 'overbg1.png' },
            { type: 'img', url: 'overbg2.png' },
            { type: 'img', url: 'overbg3.png' },
            { type: 'img', url: 'overbg4.png' },
            { type: 'img', url: 'player.png' },
            { type: 'img', url: 'enemy.png' },
            { type: 'bgm', url: 'amparpisang.mp3' },
            { type: 'bgm', url: 'apuse.mp3' },
            { type: 'bgm', url: 'flobamora.mp3' },
            { type: 'bgm', url: 'ibupertiwi.mp3' },
            { type: 'bgm', url: 'indonesiapusaka.mp3' },
            { type: 'bgm', url: 'kerosene.mp3' },
            { type: 'bgm', url: 'kincir.mp3' },
            { type: 'bgm', url: 'lathi.mp3' },
            { type: 'bgm', url: 'yamko.mp3' },
            { type: 'sfx', url: 'coinpick.wav' },
            { type: 'sfx', url: 'enemydeath.wav' },
            { type: 'sfx', url: 'fail.mp3' },
            { type: 'sfx', url: 'fire (2).mp3' },
            { type: 'sfx', url: 'fire.mp3' },
            { type: 'sfx', url: 'hit.wav' },
            { type: 'sfx', url: 'win.mp3' },
            { type: 'vid', url: 'ending.mp4' },
        ];
    
        function allResourcesLoaded() {
            console.log("run this");
          const allElements = resources.map(url => {
            if (url.endsWith('.png')) {
              const img = new Image();
              img.src = url;
              return img;
            } else if (url.endsWith('.mp3') || url.endsWith('.wav')) {
              const audio = new Audio();
              audio.src = url;
              return audio;
            }else if (resource.url.endsWith('.mp4') || resource.url.endsWith('.webm') || resource.url.endsWith('.ogg')) {
                    const video = document.createElement('video');
                    video.src = resource.url;
                    return video;
                }
                return null;
            });

            return allElements.every(element => element.complete);
        }

        // Wait for the page to load
        window.onload = function () {
            if (!allResourcesLoaded()) {
                // Redirect to loading.html if not all resources are loaded
                window.location.href = 'loading.html';
            } else {
                console.log("all loaded", allResourcesLoaded());
            }
        };
    </script>
    <script src="coockie.js"></script>
    <script src="music.js"></script>
    <script src="playerStats.js"></script>
    <script src="getcanvas.js"></script>
    <script src="shop.js"></script>
    <script src="class.js"></script>
    <script src="decralation.js"></script>
    <script src="script.js"></script>
</body>
</html>
In this updated code, the allResourcesLoaded() function now includes a case for video resources. It creates video elements for



            return null;
          });
    
          return allElements.every(element => element.complete);
        }
    
        // Wait for the page to load
        window.onload = function() {
          if (!allResourcesLoaded()) {
            // Redirect to loading.html if not all resources are loaded
            window.location.href = 'loading.html';
          }else{
            console.log("all loaded",allResourcesLoaded());
          }
        };
      </script>
    <script src="coockie.js"></script>
    <script src="music.js"></script>
    <script src="playerStats.js"></script>
    <script src="shop.js"></script>
</body>
</html>